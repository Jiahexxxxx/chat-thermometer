<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>èŠå¤©æº«åº¦è¨ˆï¼ˆå…è²»ï¼‰</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body{
      margin:0;
      font-family:system-ui,-apple-system,BlinkMacSystemFont;
      background:#0f172a;
      color:#e5e7eb;
      display:flex;
      justify-content:center;
      padding:40px 16px;
    }
    .card{
      width:100%;
      max-width:520px;
      background:#020617;
      border-radius:16px;
      padding:20px;
      box-shadow:0 20px 40px rgba(0,0,0,.5);
      position:relative;
    }
    /* Bï¼šæ›´åƒ App çš„æ¼¸å±¤é‚Šæ¡†æ„Ÿ */
    .card:before{
      content:"";
      position:absolute;
      inset:-1px;
      border-radius:16px;
      background:linear-gradient(135deg, rgba(56,189,248,.25), rgba(99,102,241,.18));
      z-index:-1;
    }
    h1{ text-align:center; margin:0 0 6px; font-size:22px; }
    .sub{ text-align:center; font-size:14px; opacity:.8; margin:0 0 12px; }

    input[type=file]{
      width:100%;
      padding:10px;
      background:#0b1220;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.08);
      color:#e5e7eb;
      box-sizing:border-box;
    }
    textarea{
      width:100%;
      height:110px;
      margin-top:10px;
      border-radius:12px;
      border:none;
      padding:12px;
      box-sizing:border-box;
      font-size:14px;
      outline:none;
      resize:none;
      background:#0b1220;
      color:#e5e7eb;
    }
    .preview{
      margin-top:10px;
      display:none;
      background:#0b1220;
      border:1px solid rgba(255,255,255,.08);
      border-radius:12px;
      padding:10px;
    }
    .preview img{ width:100%; border-radius:10px; display:block; }

    button{
      width:100%;
      margin-top:14px;
      padding:14px;
      border-radius:999px;
      border:none;
      background:#38bdf8;
      color:#020617;
      font-weight:800;
      font-size:16px;
      cursor:pointer;
    }

    /* Bï¼šçµæœå¡ç‰‡åŒ– */
    .resultBox{
      margin-top:14px;
      padding:12px;
      border-radius:12px;
      background:#0b1220;
      border:1px solid rgba(255,255,255,.08);
      text-align:center;
    }
    .result{
      font-size:18px;
      min-height:28px;
      line-height:1.4;
    }
    .hint{
      margin-top:10px;
      font-size:12px;
      opacity:.75;
      line-height:1.45;
    }
    a{ color:#38bdf8; }
  </style>
</head>

<body>
  <div class="card">
    <h1>èŠå¤©æº«åº¦è¨ˆ ğŸŒ¡ï¸</h1>
    <div class="sub">å…è²»ç‰ˆï½œå‚³ç…§ç‰‡æˆ–è²¼èŠå¤©æ–‡å­—éƒ½å¯ä»¥</div>

    <input id="image" type="file" accept="image/*" />

    <div class="preview" id="previewWrap">
      <img id="preview" alt="æˆªåœ–é è¦½">
      <div class="hint">âœ… å·²é¸æ“‡åœ–ç‰‡ï¼ˆå…è²»ç‰ˆä¸è®€åœ–å…§å®¹ï¼›æƒ³æ›´æº–è«‹è²¼å¹¾å¥æ–‡å­—ï¼‰</div>
    </div>

    <textarea id="chat" placeholder="ï¼ˆå¯é¸ï¼‰è²¼èŠå¤©å…§å®¹ï¼šä¾‹å¦‚ã€å¥¹å›å¾ˆæ…¢é‚„è¦èŠå—ã€"></textarea>

    <button onclick="analyze()">é–‹å§‹åˆ†æ</button>

    <div class="resultBox">
      <div class="result" id="result"></div>
      <div class="hint" id="mini"></div>
    </div>

    <!-- Cï¼šçµæœå¾Œé¡¯ç¤ºå‡ç´šå…¥å£ -->
    <div class="hint" id="upgradeWrap" style="display:none;">
      æƒ³çœ‹ã€Œç‚ºä»€éº¼ + 24 å°æ™‚æ€éº¼åšã€â†’ <a href="./paid.html">å‡ç´šå®Œæ•´åˆ†æ</a>
    </div>

    <div class="hint">
      ä½¿ç”¨èªªæ˜ï¼š<br/>
      â€¢ æœ‰è²¼æ–‡å­— â†’ ä¾æ–‡å­—åˆ¤æ–·ï¼ˆè¼ƒæº–ï¼‰<br/>
      â€¢ æ²’è²¼æ–‡å­—ä½†æœ‰ç…§ç‰‡ â†’ çµ¦ä¸­æ€§æç¤ºï¼ˆä¸äº‚çŒœï¼‰<br/>
      â€¢ æ²’ç…§ç‰‡ä¹Ÿæ²’æ–‡å­— â†’ æœƒæé†’ä½ è£œè³‡æ–™
    </div>
  </div>

<script>
  const imageInput = document.getElementById("image");
  const previewWrap = document.getElementById("previewWrap");
  const preview = document.getElementById("preview");

  imageInput.addEventListener("change", () => {
    const file = imageInput.files && imageInput.files[0];
    if (!file) {
      previewWrap.style.display = "none";
      preview.src = "";
      return;
    }
    preview.src = URL.createObjectURL(file);
    previewWrap.style.display = "block";
  });

  function analyze(){
    const text = document.getElementById("chat").value.trim();
    const hasImage = (imageInput.files && imageInput.files.length > 0);

    const result = document.getElementById("result");
    const mini = document.getElementById("mini");
    const upgrade = document.getElementById("upgradeWrap");

    // æ²’è³‡æ–™
    if(!hasImage && text.length === 0){
      result.textContent = "âš ï¸ è«‹å…ˆä¸Šå‚³æˆªåœ–æˆ–è²¼å¹¾å¥æ–‡å­—";
      mini.textContent = "";
      upgrade.style.display = "none";
      return;
    }

    // åªæœ‰ç…§ç‰‡ï¼šå…è²»ç‰ˆä¸è®€åœ–ï¼Œé¿å…äº‚åˆ¤
    if(hasImage && text.length === 0){
      result.textContent = "ğŸ“· å·²æ”¶åˆ°åœ–ç‰‡ï¼ˆå…è²»ç‰ˆä¸è®€åœ–å…§å®¹ï¼‰";
      mini.textContent = "å»ºè­°ï¼šå†è²¼ 1~3 å¥å°è©±ï¼Œåˆ¤æ–·æœƒæº–å¾ˆå¤šã€‚";
      upgrade.style.display = "block";
      return;
    }

    // Aï¼šå°ç£èŠå¤©ç”¨èªè©åº«ï¼ˆæ›´æº–ï¼‰
    let score = 0;

    const HOT = [
      "æƒ³ä½ ","æƒ³è¦‹ä½ ","æƒ³ç´„ä½ ","æˆ‘æƒ³ä½ ","æŠ±æŠ±","è¦ªè¦ª","æ„›ä½ ","å–œæ­¡ä½ ","å¯¶","å¯¶è²",
      "â¤ï¸","ğŸ˜˜","ğŸ˜","æ™šå®‰â¤ï¸","æƒ³ä½ äº†"
    ];
    const WARM = [
      "å“ˆå“ˆ","ç¬‘æ­»","æ¬¸","åœ¨å—","ä½ åœ¨å¹¹å˜›","å¹¹å˜›","å¯ä»¥å•Š","å¥½å‘€","OK","è¡Œ","å¯ä»¥",
      "æ™šå®‰","æ—©å®‰","åƒé£¯","å‡ºå»","ç´„å—","ä¸‹æ¬¡","æ”¹å¤©"
    ];
    const COLD = [
      "å—¯","å–”","å“¦","å¥½","éš¨ä¾¿","ä¸çŸ¥é“","å†èªª","å¿™","å…ˆé€™æ¨£","æ°","å‘µ",
      "å·²è®€","å·²è®€ä¸å›","å›å¾ˆæ…¢","æ•·è¡","ä¸å›","éƒ½æˆ‘ä¸»å‹•"
    ];

    HOT.forEach(w => { if (text.includes(w)) score += 2; });
    WARM.forEach(w => { if (text.includes(w)) score += 1; });
    COLD.forEach(w => { if (text.includes(w)) score -= 1; });

    // Aï¼šå°è¦å‰‡è®“èª¤åˆ¤æ›´å°‘
    if (text.replace(/\s/g,"").length <= 2) score -= 1;
    ["å·²è®€ä¸å›","å›å¾ˆæ…¢","éƒ½æˆ‘ä¸»å‹•"].forEach(w => { if (text.includes(w)) score -= 2; });

    let label = "ğŸ˜ æ™®é€š";
    let tip = "ä½ å¯ä»¥å†ç”¨ä¸€å¥è¼•é¬†å•é¡Œæ¸¬å°æ–¹æœƒä¸æœƒæ¥çƒã€‚";

    if (score >= 5) { label = "ğŸ”¥ å¾ˆç†±"; tip = "è¶ç†±æŠŠé‚€ç´„è½åœ°ï¼šæ™‚é–“/åœ°é»çµ¦ä¸€å€‹é¸é …å°±å¥½ã€‚"; }
    else if (score >= 3) { label = "ğŸŒ¤ï¸ æ›–æ˜§"; tip = "ä¿æŒç¯€å¥ï¼šçŸ­å¥ï¼‹æ”¶å°¾ï¼Œä¸è¦é€£ç™¼è¿½å•ã€‚"; }
    else if (score <= 0) { label = "â„ï¸ åå†·"; tip = "å…ˆåœè¿½ï¼š24 å°æ™‚ä¸ä¸»å‹•ï¼Œè®“å°æ–¹æœ‰ç©ºé–“å›ä¾†ã€‚"; }

    result.textContent = label;
    mini.textContent = tip;

    // Cï¼šé¡¯ç¤ºå‡ç´šå…¥å£ï¼ˆä¸ç ´å£å…è²»ï¼‰
    upgrade.style.display = "block";
  }
</script>
</body>
</html>
